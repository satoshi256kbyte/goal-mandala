# 振り返り機能 Spec

## 概要

目標達成状況の振り返りと改善点を記録する機能を実装します。ユーザーが任意のタイミングで振り返りを入力し、過去の振り返り履歴を確認できるようにします。

## 目的

- 目標達成状況を定期的に振り返る習慣を促進
- 改善点を明確にし、次のアクションに活かす
- 振り返り履歴を蓄積し、成長の軌跡を可視化

## スコープ

### 含まれるもの

- 振り返り入力画面の実装
- 振り返りAPI（CRUD操作）の実装
- 振り返り履歴表示機能の実装
- データベーススキーマの拡張
- プロパティベーステスト
- 統合テスト
- E2Eテスト

### 含まれないもの

- AI による振り返り分析機能（Phase 2）
- 振り返りの共有機能（Phase 2）
- 振り返りのエクスポート機能（Phase 2）

## 依存関係

- フェーズ3（活動機能開発）の完了
- データベース設計（1.4）
- 認証システム（1.3）

## 成果物

- 振り返り入力画面（React コンポーネント）
- 振り返りAPI（Lambda 関数）
- 振り返り履歴画面（React コンポーネント）
- データベーススキーマ（Prisma）
- プロパティベーステスト（20個以上）
- 統合テスト
- E2Eテスト（Playwright）
- API仕様書
- 運用ガイド
- ユーザーマニュアル

## 実装フェーズ

### Phase 1: 要件定義・設計（1日）

- 要件定義書の作成
- 設計書の作成
- タスクリストの作成

### Phase 2: データベース実装（1日）

- Prismaスキーマの拡張
- マイグレーションの作成
- シードデータの作成

### Phase 3: バックエンド実装（2日）

- 振り返りAPI（CRUD操作）
- バリデーション
- エラーハンドリング

### Phase 4: フロントエンド実装（2日）

- 振り返り入力画面
- 振り返り履歴画面
- React Query統合

### Phase 5: テスト実装（1日）

- プロパティベーステスト
- 統合テスト
- E2Eテスト

### Phase 6: ドキュメント作成（0.5日）

- API仕様書
- 運用ガイド
- ユーザーマニュアル

### Phase 7: 最終検証（0.5日）

- 全テスト実行
- コード品質確認
- パフォーマンステスト

## 参考資料

- [1-product-overview.md](./../../../.kiro/steering/1-product-overview.md)
- [6-database-design.md](./../../../.kiro/steering/6-database-design.md)
- [7-implementation-guide.md](./../../../.kiro/steering/7-implementation-guide.md)
- [9-test-guide.md](./../../../.kiro/steering/9-test-guide.md)
