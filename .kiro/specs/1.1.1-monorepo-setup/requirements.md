# 要件ドキュメント

## 概要

曼荼羅目標管理システムの開発基盤として、モノレポ構成を設定する。フロントエンド（React + TypeScript）、バックエンド（Hono + Lambda）、インフラ（AWS CDK）、共通ライブラリを統一的に管理できる開発環境を構築する。

## 要件

### 要件1

**ユーザーストーリー:** 開発者として、統一されたモノレポ環境で効率的に開発を行いたい

#### 受入基準

1. WHEN 開発者がプロジェクトルートで`pnpm install`を実行する THEN 全パッケージの依存関係が正しくインストールされる
2. WHEN 開発者が`pnpm build`を実行する THEN 全パッケージが正しい順序でビルドされる
3. WHEN 開発者が`pnpm test`を実行する THEN 全パッケージのテストが実行される
4. WHEN 開発者が`pnpm lint`を実行する THEN 全パッケージでリントチェックが実行される

### 要件2

**ユーザーストーリー:** 開発者として、パッケージ間の依存関係を適切に管理したい

#### 受入基準

1. WHEN sharedパッケージを更新する THEN 依存するパッケージが自動的に再ビルドされる
2. WHEN パッケージ間で型定義を共有する THEN TypeScriptの型チェックが正しく動作する
3. WHEN 共通ライブラリを変更する THEN 影響を受けるパッケージのみが再ビルドされる

### 要件3

**ユーザーストーリー:** 開発者として、各パッケージで適切なツール設定を使用したい

#### 受入基準

1. WHEN TypeScriptファイルを編集する THEN 統一されたESLint設定でリントチェックが実行される
2. WHEN コードをフォーマットする THEN 統一されたPrettier設定でフォーマットされる
3. WHEN TypeScriptをコンパイルする THEN 各パッケージに適した設定でコンパイルされる

### 要件4

**ユーザーストーリー:** 開発者として、効率的なビルドパイプラインを使用したい

#### 受入基準

1. WHEN turboでビルドを実行する THEN キャッシュ機能により高速にビルドが完了する
2. WHEN 変更されていないパッケージがある THEN そのパッケージのビルドはスキップされる
3. WHEN 並列実行可能なタスクがある THEN 並列でタスクが実行される

### 要件5

**ユーザーストーリー:** 開発者として、Node.jsとPythonのバージョンを統一して管理したい

#### 受入基準

1. WHEN .tool-versionsファイルが存在する THEN Node.js 23.10.0とPython 3.13.3が指定されている
2. WHEN asdfを使用する THEN 指定されたバージョンが自動的に使用される
3. WHEN CIで実行する THEN 同じバージョンが使用される
