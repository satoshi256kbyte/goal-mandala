# 本番環境用設定

# ===========================================
# 基本設定
# ===========================================

NODE_ENV=production
AWS_REGION=ap-northeast-1

# ===========================================
# Cognito設定（本番用）
# ===========================================

COGNITO_USER_POOL_ID=ap-northeast-1_prodpool123
COGNITO_CLIENT_ID=prod123client456id789

# ===========================================
# データベース設定（RDS）
# ===========================================

DATABASE_URL=postgresql://username:password@production-db.cluster-xxx.ap-northeast-1.rds.amazonaws.com:5432/goal_mandala

# ===========================================
# JWT設定（Secrets Managerから取得推奨）
# ===========================================

# 直接設定する場合（非推奨）
# JWT_SECRET=production-super-secure-jwt-secret-key-from-secrets-manager

# Secrets Manager ARN（推奨）
JWT_SECRET_ARN=arn:aws:secretsmanager:ap-northeast-1:123456789012:secret:jwt-secret-prod-abc123

# ===========================================
# 認証設定（実Cognito使用、モック認証無効）
# ===========================================

ENABLE_MOCK_AUTH=false
JWT_CACHE_TTL=3600

# ===========================================
# ログ設定（本番用）
# ===========================================

LOG_LEVEL=WARN
ENABLE_SECURITY_AUDIT=true

# ===========================================
# フロントエンド設定
# ===========================================

FRONTEND_URL=https://your-domain.com

# ===========================================
# セキュリティ設定（本番環境用）
# ===========================================

CORS_ORIGIN=https://your-domain.com
ENABLE_CSRF_PROTECTION=true
ENABLE_RATE_LIMITING=true
MAX_REQUESTS_PER_MINUTE=100
ENABLE_IP_WHITELIST=false

# ===========================================
# 高度な設定（本番環境用）
# ===========================================

CLOCK_TOLERANCE=60
REQUIRE_EMAIL_VERIFICATION=true
ALLOWED_TOKEN_USE=access,id
MAX_RETRIES=3
REQUEST_TIMEOUT=5000

# ===========================================
# 監視・メトリクス設定（本番環境用）
# ===========================================

ENABLE_METRICS=true
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_ALERTS=true

# Slack Webhook URL（アラート通知用）
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX

# ===========================================
# AWS Secrets Manager設定（推奨）
# ===========================================

# データベース認証情報
DATABASE_SECRET_ARN=arn:aws:secretsmanager:ap-northeast-1:123456789012:secret:database-credentials-prod-def456

# Cognito設定
COGNITO_SECRET_ARN=arn:aws:secretsmanager:ap-northeast-1:123456789012:secret:cognito-config-prod-ghi789

# ===========================================
# 開発・デバッグ設定（本番環境では無効）
# ===========================================

DEBUG_MODE=false
VERBOSE_ERROR_LOGGING=false
LOG_REQUESTS=false
MEASURE_PERFORMANCE=false

# ===========================================
# セキュリティ強化設定
# ===========================================

# セキュリティ監査の詳細レベル
SECURITY_AUDIT_LEVEL=strict

# 許可するCognitoグループ（必要に応じて設定）
# ALLOWED_GROUPS=verified-users,premium-users

# キャッシュの最大サイズ
MAX_CACHE_SIZE=10000

# ===========================================
# 重要な注意事項
# ===========================================

# 1. JWT_SECRETは必ずSecrets Managerから取得してください
# 2. ENABLE_MOCK_AUTHは必ずfalseに設定してください
# 3. LOG_LEVELはWARN以上に設定してください
# 4. ENABLE_SECURITY_AUDITは必ずtrueに設定してください
# 5. 機密情報は環境変数に直接記述せず、Secrets Managerを使用してください
# 6. CORS_ORIGINは実際のフロントエンドドメインに設定してください
# 7. レート制限とセキュリティ機能を有効にしてください
