{
  "stackPrefix": "goal-mandala-stg",
  "region": "ap-northeast-1",
  "environment": "staging",
  "network": {
    "natGateways": 2,
    "enableVpcEndpoints": true,
    "vpcCidr": "10.1.0.0/16",
    "maxAzs": 2
  },
  "database": {
    "instanceClass": "serverless",
    "minCapacity": 1.0,
    "maxCapacity": 4.0,
    "multiAz": true,
    "backupRetentionDays": 14,
    "deletionProtection": true,
    "performanceInsights": true,
    "monitoringInterval": 60,
    "enableAuditLog": true,
    "enableSlowQueryLog": true,
    "slowQueryLogThreshold": 1000,
    "databaseName": "goalmandalamain",
    "enableEncryption": true,
    "enableIamDatabaseAuthentication": true,
    "enableSslConnection": true,
    "enableAutomaticSnapshots": true,
    "snapshotRetentionDays": 14,
    "preferredBackupWindow": "03:00-04:00",
    "preferredMaintenanceWindow": "sun:04:00-sun:05:00",
    "tags": {
      "DatabaseType": "aurora-serverless-v2",
      "Engine": "postgresql",
      "EngineVersion": "15.4",
      "Purpose": "application-data",
      "Tier": "staging"
    },
    "enableRotation": true,
    "rotationIntervalDays": 30
  },
  "secretsManager": {
    "enableEncryption": true,
    "enableRotation": true,
    "rotationIntervalDays": 30,
    "enableCaching": true,
    "cacheTtlMinutes": 5,
    "enableMonitoring": true,
    "tags": {
      "Component": "secrets-manager",
      "Purpose": "application-secrets",
      "Tier": "staging"
    }
  },
  "lambda": {
    "timeout": 30,
    "memorySize": 512
  },
  "frontend": {
    "domainName": "stg.goal-mandala.example.com",
    "certificateArn": null,
    "customErrorResponses": true,
    "security": {
      "enableHsts": true,
      "hstsMaxAge": 31536000,
      "hstsIncludeSubdomains": true,
      "hstsPreload": false,
      "enableContentTypeOptions": true,
      "enableFrameOptions": true,
      "frameOptionsValue": "DENY",
      "enableReferrerPolicy": true,
      "referrerPolicyValue": "strict-origin-when-cross-origin",
      "enableCsp": true,
      "cspDirectives": {
        "default-src": ["'self'"],
        "script-src": ["'self'", "'unsafe-inline'"],
        "style-src": ["'self'", "'unsafe-inline'"],
        "img-src": ["'self'", "data:", "https:"],
        "font-src": ["'self'", "https:"],
        "connect-src": ["'self'"],
        "frame-ancestors": ["'none'"]
      },
      "customHeaders": {
        "X-Custom-Header": "goal-mandala-stg"
      }
    },
    "s3": {
      "enableVersioning": true,
      "enableLogging": true,
      "lifecyclePolicyEnabled": true,
      "oldVersionExpirationDays": 30,
      "incompleteMultipartUploadDays": 7
    },
    "monitoring": {
      "enableAccessLogs": true,
      "enableCloudFrontLogs": true,
      "enableCostMonitoring": true,
      "logRetentionDays": 60,
      "retainLogsOnDelete": true,
      "alertEmail": "alerts@example.com",
      "slackWebhookUrl": null,
      "errorRateThreshold": 5,
      "cacheHitRateThreshold": 85,
      "s3RequestsThreshold": 1500,
      "monthlyBudgetLimit": 100
    },
    "deployment": {
      "buildCommand": "pnpm --filter frontend build",
      "buildDirectory": "packages/frontend/dist",
      "excludePatterns": ["*.map", "*.DS_Store", "node_modules/**", ".git/**"],
      "invalidationPaths": ["/*"],
      "retainOnDelete": true,
      "enableBuildCache": true,
      "enableCompressionUpload": true,
      "enableParallelUpload": true,
      "maxConcurrentUploads": 15,
      "uploadTimeout": 600,
      "cacheControl": {
        "html": "public, max-age=300, must-revalidate",
        "css": "public, max-age=31536000, immutable",
        "js": "public, max-age=31536000, immutable",
        "images": "public, max-age=31536000, immutable",
        "fonts": "public, max-age=31536000, immutable",
        "default": "public, max-age=86400"
      }
    }
  },
  "monitoring": {
    "logRetentionDays": 30,
    "enableDetailedMonitoring": true,
    "enableAlerts": true,
    "alertEmail": "alerts@example.com"
  },
  "tags": {
    "Project": "GoalMandala",
    "Environment": "staging",
    "CostCenter": "engineering",
    "Owner": "development-team",
    "Purpose": "staging-testing",
    "DataClassification": "internal",
    "BackupRequired": "true"
  }
}
